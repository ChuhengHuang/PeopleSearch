@model IEnumerable<PeopleSearch.Models.Person>

@{
    ViewData["Title"] = "Index";
}

<html>
<head>

    <title>Index</title>
    <script src="~/lib/jquery/dist/jquery.js" type="text/javascript"></script>
    <script type="text/javascript">
        $(document).ready(function(){    
            $('.displaypeople').click(function () {
                $.ajax({
                    type: 'GET',
                    dataType: 'json',
                    contentType: 'application/json',
                    data: { searchString: document.getElementById("SearchString").value },
                    url: '@Url.Action("SearchPeople", "People")',
                    success: function (result) {
                        var s = '';
                        for (var i = 0; i < result.length; i++)                           
                            s += "<dl class='dl-horizontal'>" +
                                    "<dt>First Name: </dt>" +
                                    "<dd>" + result[i].FirstName + "</dd>" +
                                    "<dt>Last Name: </dt>" +
                                    "<dd>" + result[i].LastName + "</dd>" +
                                    "<dt>Address: </dt>" +
                                    "<dd>" + result[i].Address + "</dd>" +
                                    "<dt>Age: </dt>" +
                                    "<dd>" + result[i].Age + "</dd>" +
                                    "<dt>Interests: </dt>" +
                                    "<dd>" + result[i].Interests + "</dd>" +
                                    "<dt>Picture: </dt>" +
                                    "<dd>" + result[i].Picture + "</dd>" +
                            "</dl>";
                        $("#result").html(s);
                    }
                });
            });

        });
    </script>

</head>

<body> 
    <hr />
    <table style="width:100%">
        <tr>
            <td>
                Name: <input type="text" name="SearchString" id="SearchString">
                <input type="button" class="displaypeople" value="Search People" />
            </td>
            <td align="right">
                <a asp-action="Create">Create New Person</a>
            </td>
        </tr>
    </table>  
   
    <div id="result"></div>

</body>
</html>